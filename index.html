<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>My Ball Game</title>
</head>

<body style="background-color:white; font-family:verdana;" font-size="15px;" width="600px;"
    margin="left:auto;" margin="right:auto;">
    <h1>My Ball Game</h1>
    <div style="width:500px; margin-left:auto; margin-right:auto;">
        <img src="castle.jpeg" width="500" height="500"
            style="position:absolute;">
        <canvas id="theCanvas" width="500" height="500" style="position:relative;">
            Canvas not supported; please update your browser.
        </canvas>
    </div>
    <div style="text-align:center">
        <input type="button" value="Throw!" onclick="throwProjectile();">
        p>
        <input type="range" id="speedSlider" min="0" max="80" step="1" value="30" oninput="showSpeed();"
            onchange="showSpeed();">
        Initial speed = <span id="speedReadout">30</span> m/s
        <p>
            <input type="range" id="angleSlider" min="-90" max="90" step="1" value="10" oninput="showAngle();"
                onchange="showAngle();">
            Initial angle = <span id="angleReadout">10</span>&deg;
        <p>
            <input type="range" id="xSlider" min="0" max="250" step="1" value="10" oninput="showPosition();"
                onchange="showPosition();">
            Initial horizontal position = <span id="xReadout">10</span>m
        <p>
            <input type="range" id="heightSlider" min="0" max="450" step="1" value="300" oninput="showHeight();"
                onchange="showHeight();">
            Initial vertical position from top = <span id="heightReadout">300</span>m
    </div>
    <p>This simulation demonstrates launching a projectile at various speeds and angles.</p>
    <script>
        // Write or Adjust your JavaScript code here.
        var theCanvas = document.getElementById("theCanvas");
        var theContext = theCanvas.getContext("2d");
        var ay = 9.81;        // grav. constant in SI units
        var dt = 0.2; // time step in seconds
        var t = 0; // initial time
        var timer, vel, yo, xo, a, angle, vx, vy, x, y;     // declare all motion variables
        var speedSlider = document.getElementById("speedSlider");
        var angleSlider = document.getElementById("angleSlider");
        var heightSlider = document.getElementById("heightSlider");
        var xSlider = document.getElementById("xSlider");
        var speedReadout = document.getElementById("speedReadout");
        var angleReadout = document.getElementById("angleReadout");
        var heightReadout = document.getElementById("heightReadout");
        var xReadout = document.getElementById("xReadout");

        moveProjectile();

        function throwProjectile() {
            if (timer) {
                window.clearTimeout(timer);
                timer = null;
            }
            x = 0;
            y = 0;
            t = 0;
            vel = Number(speedSlider.value);
            a = Number(angleSlider.value);
            angle = a * Math.PI / 180; // convert to radians
            yo = Number(heightSlider.value);
            xo = Number(xSlider.value);
            vx = vel * Math.cos(angle);
            vy = vel * Math.sin(angle);
            x = xo;  // position at t=0
            y = yo; // position at t=0
            moveProjectile();
        }

        function drawProjectile() {
            theContext.clearRect(0, 0, theCanvas.width, theCanvas.height);
            theContext.beginPath();
            theContext.arc(x, y, 15, 0, 2 * Math.PI);
            theContext.fillStyle = "rgb(200, 30, 200)";
            theContext.fill();
        }

        function moveProjectile() {
            if (y < 500) {
                t += dt;
                x = xo + vx * t;
                y = yo - vy * t + .5 * ay * (t * t);
                drawProjectile();
                if (timer) window.clearTimeout(timer);
                timer = window.setTimeout(moveProjectile, 100 * dt);  // The number 100 can be increased for slow motion
            }
        }
        function showSpeed() {
            speedReadout.innerHTML = speedSlider.value;
        }
        function showAngle() {
            angleReadout.innerHTML = angleSlider.value;
        }
        function showHeight() {
            heightReadout.innerHTML = heightSlider.value;
        }
        function showPosition() {
            xReadout.innerHTML = xSlider.value;
        }
    </script>
</body>

</html>